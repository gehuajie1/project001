<view class="chat-detail-container">
  <!-- 聊天头部 -->
  <view class="chat-header">
    <view class="header-left">
      <van-icon name="arrow-left" bind:click="goBack" />
      <text class="chat-name">{{chatInfo.name}}</text>
    </view>
    <view class="header-right">
      <van-icon name="search" />
      <van-icon name="more-o" />
    </view>
  </view>

  <!-- 聊天内容区域 -->
  <scroll-view class="chat-content" scroll-y="true" scroll-into-view="{{scrollToView}}" scroll-with-animation>
    <view class="message-list">
      <view class="message-item {{item.isSelf ? 'self' : ''}}" wx:for="{{messages}}" wx:key="id">
        <image class="avatar" src="{{item.avatar}}" mode="aspectFill" />
        <view class="message-content">
          <view class="message-text">{{item.content}}</view>
          <view class="message-time">{{item.time}}</view>
        </view>
      </view>
    </view>
  </scroll-view>

  <!-- 输入区域 -->
  <view class="input-area">
    <view class="input-box">
      <van-icon name="smile-o" />
      <input type="text" placeholder="请输入消息" value="{{inputMessage}}" bind:input="onInput" />
      <van-icon name="photo-o" bind:click="chooseImage" />
    </view>
    <van-button type="primary" size="small" bind:click="sendMessage">发送</van-button>
  </view>
</view> 